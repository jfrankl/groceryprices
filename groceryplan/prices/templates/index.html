<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Grocery Data</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" media="screen" href="/static/stylesheets/style.css">
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.2/jquery-ui.min.js"></script>
  <script>
  // Autocomplete for search box.
  $(function() {
    var availableFoods = {"items":[
		{% for products in product_type %}
			{"label": "{{ products.name }}", "id": "{{ products.slug }}"},
		{% endfor %}
    ]};
    $("#search-input").autocomplete({
      source: availableFoods.items,
      select: function(event, ui) {
        document.location.href='/food/'+ui.item.id;
      }         
    });   
	var obj = availableFoods.items;
	$("#search-input").keypress(function (k) { 
	  if (k.which == 13) { 
	  	// Search all foods to match search box. If found, load URL using slug.
		$.each(availableFoods.items, function(v, f) {
			var food = f.label.toLowerCase();
			var truncateByOne = food.substring(0, food.length - 1);
			if ((food == $("#search-input").val().toLowerCase()) || (truncateByOne == $("#search-input").val().toLowerCase())){
        	document.location.href='/food/'+f.id;}
		});
	  } 
	});         
  });
  </script>  
</head>
<body>
	<div id="header">
		<div class="container content-inner">
			<div class="section row">
				<div class="twelve columns mobile-full">
					Grocery Data
				</div>
			</div>
		</div>	
	</div>
	<div class="container content-inner">
		<div class="section row" style="text-align: center">		
			<div class="two columns mobile-full">
				&nbsp;
			</div>			
			<div class="eight columns mobile-full">
				<h1>Compare grocery prices:</h1>
			</div>	
			<div class="two columns mobile-full">
				&nbsp;
			</div>	
		</div>
		<div class="section row">		
			<div class="three columns mobile-full">
				&nbsp;
			</div>			
			<div class="six columns mobile-full">
				<div id="searchbox">	
					<div id="search">
						<div id="searchField" class="ui-widget">
							<input type="text" id="search-input" role="search" name="s" placeholder="ex. Ginger, Olive Oil, Butter" value="" autofocus="autofocus"/>
						</div>
					</div>
				</div>
			</div>	
			<div class="three columns mobile-full">
				&nbsp;
			</div>	
		</div>
		<div class="section row">		
			<div class="two columns mobile-full">
				&nbsp;
			</div>			
			<div class="eight columns mobile-full">
			</div>	
			<div class="two columns mobile-full">
				&nbsp;
			</div>	
		</div>				
	</div>
	<div id="produce" class="category-block">
		<div class="container content-inner">
			<div class="section row">
				<div class="two columns">&nbsp;</div>
				<div class="eight columns"><h5 style="font-weight: bold">Produce</h5></div>
				<div class="two columns">&nbsp;</div>
			</div>
				{% for products in produce %}
    				{% if forloop.counter == 1 %}
    					<div class="section row"><div class="two columns">&nbsp;</div>
    				{% endif %}
    				<div class="two columns"><a href="/food/{{ products.name|slugify }}/">{{ products.name }}</a></div>
    				{% if forloop.last %}
    				<div class="two columns"></div>
    					</div>
    				{% elif forloop.counter|divisibleby:4 %}
    				<div class="two columns">&nbsp;</div>
    					</div>
    					<div class="section row"><div class="two columns">&nbsp;</div>
    				{% endif %}
				{% endfor %}				
			</div>
		</div>	
	</div>
	<div id="refrigerated" class="category-block">
		<div class="container content-inner">
			<div class="section row">
				<div class="two columns">&nbsp;</div>
				<div class="eight columns"><h5 style="font-weight: bold">Refrigerated</h5></div>
				<div class="two columns">&nbsp;</div>
			</div>
				{% for products in refrigerated %}
    				{% if forloop.counter == 1 %}
    					<div class="section row"><div class="two columns">&nbsp;</div>
    				{% endif %}
    				<div class="two columns"><a href="/food/{{ products.name|slugify }}/">{{ products.name }}</a></div>
    				{% if forloop.last %}
    				<div class="two columns"></div>
    					</div>
    				{% elif forloop.counter|divisibleby:4 %}
    				<div class="two columns">&nbsp;</div>
    					</div>
    					<div class="section row"><div class="two columns">&nbsp;</div>
    				{% endif %}
				{% endfor %}				
			</div>
		</div>	
	</div>	
	<div id="cooking" class="category-block">
		<div class="container content-inner">
			<div class="section row">
				<div class="two columns">&nbsp;</div>
				<div class="eight columns"><h5 style="font-weight: bold">Cooking</h5></div>
				<div class="two columns">&nbsp;</div>
			</div>
				{% for products in cooking %}
    				{% if forloop.counter == 1 %}
    					<div class="section row"><div class="two columns">&nbsp;</div>
    				{% endif %}
    				<div class="two columns"><a href="/food/{{ products.name|slugify }}/">{{ products.name }}</a></div>
    				{% if forloop.last %}
    				<div class="two columns"></div>
    					</div>
    				{% elif forloop.counter|divisibleby:4 %}
    				<div class="two columns">&nbsp;</div>
    					</div>
    					<div class="section row"><div class="two columns">&nbsp;</div>
    				{% endif %}
				{% endfor %}				
			</div>
		</div>	
	</div>	
	<div id="dry" class="category-block">
		<div class="container content-inner">
			<div class="section row">
				<div class="two columns">&nbsp;</div>
				<div class="eight columns"><h5 style="font-weight: bold">Dry/Baking Goods</h5></div>
				<div class="two columns">&nbsp;</div>
			</div>
				{% for products in dry %}
    				{% if forloop.counter == 1 %}
    					<div class="section row"><div class="two columns">&nbsp;</div>
    				{% endif %}
    				<div class="two columns"><a href="/food/{{ products.name|slugify }}/">{{ products.name }}</a></div>
    				{% if forloop.last %}
    				<div class="two columns"></div>
    					</div>
    				{% elif forloop.counter|divisibleby:4 %}
    				<div class="two columns">&nbsp;</div>
    					</div>
    					<div class="section row"><div class="two columns">&nbsp;</div>
    				{% endif %}
				{% endfor %}				
			</div>
		</div>	
	</div>	
	<div id="cans" class="category-block">
		<div class="container content-inner">
			<div class="section row">
				<div class="two columns">&nbsp;</div>
				<div class="eight columns"><h5 style="font-weight: bold">Cans &#038; Jars</h5></div>
				<div class="two columns">&nbsp;</div>
			</div>
				{% for products in cans %}
    				{% if forloop.counter == 1 %}
    					<div class="section row"><div class="two columns">&nbsp;</div>
    				{% endif %}
    				<div class="two columns"><a href="/food/{{ products.name|slugify }}/">{{ products.name }}</a></div>
    				{% if forloop.last %}
    				<div class="two columns"></div>
    					</div>
    				{% elif forloop.counter|divisibleby:4 %}
    				<div class="two columns">&nbsp;</div>
    					</div>
    					<div class="section row"><div class="two columns">&nbsp;</div>
    				{% endif %}
				{% endfor %}				
			</div>
		</div>	
	</div>	
	<div id="miscellaneous" class="category-block">
		<div class="container content-inner">
			<div class="section row">
				<div class="two columns">&nbsp;</div>
				<div class="eight columns"><h5 style="font-weight: bold">Miscellaneous</h5></div>
				<div class="two columns">&nbsp;</div>
			</div>
				{% for products in miscellaneous %}
    				{% if forloop.counter == 1 %}
    					<div class="section row"><div class="two columns">&nbsp;</div>
    				{% endif %}
    				<div class="two columns"><a href="/food/{{ products.name|slugify }}/">{{ products.name }}</a></div>
    				{% if forloop.last %}
    				<div class="two columns"></div>
    					</div>
    				{% elif forloop.counter|divisibleby:4 %}
    				<div class="two columns">&nbsp;</div>
    					</div>
    					<div class="section row"><div class="two columns">&nbsp;</div>
    				{% endif %}
				{% endfor %}				
			</div>
		</div>	
	</div>			

	<!--	
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
	<script src="/static/javascripts/default.js"></script> 
	-->
</body>
</html>